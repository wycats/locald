import{I as G,b as me,aO as ye,R,h as A,av as Te,a as Y,i as P,a5 as je,O as Ge,P as Ye,Q as ve,S as $,K as L,ah as qe,aJ as Xe,an as de,D as F,aP as C,J as B,N as Ke,a6 as he,z as Je,aH as ce,aQ as Ne,aR as Qe,aS as Ze,aT as xe,F as ke,H as Oe,aU as x,V as ue,aD as er,aV as rr,aG as tr,G as q,a3 as Ce,E as Ie,aW as ar,az as sr,T as le,e as X,aX as ir,au as Le,ac as nr,Y as z,aY as or,aZ as fr,a_ as cr,a$ as ur,X as $e,b0 as Me,b1 as lr,b2 as vr,b3 as dr,b4 as hr,b5 as pr,b6 as _r,b7 as gr,b8 as br,b9 as Sr,ba as wr,bb as Er,bc as Ar,B as mr,U as yr,bd as Tr,p as Nr,o as kr,q as Or,j as U,v as Cr,s as Ir,n as Fe,C as Lr,be as $r,bf as J,bg as Mr}from"./TNm-1yTz.js";import{b as Fr,g as Rr,i as Pr,j as W,k as zr,l as Ur,d as Dr,n as Hr,o as Vr,p as Br,a as se,c as Re}from"./BzZfYq3-.js";import{i as Wr}from"./DbfyHsl5.js";import{B as jr,l as ie,p as M,s as Gr}from"./CBamjwJ2.js";function Yr(e,r){return r}function qr(e,r,t){for(var a=[],s=r.length,i,n=r.length,o=0;o<s;o++){let h=r[o];Oe(h,()=>{if(i){if(i.pending.delete(h),i.done.add(h),i.pending.size===0){var u=e.outrogroups;ne(ce(i.done)),u.delete(i),u.size===0&&(e.outrogroups=null)}}else n-=1},!1)}if(n===0){var f=a.length===0&&t!==null;if(f){var v=t,l=v.parentNode;tr(l),l.append(v),e.items.clear()}ne(r,!f)}else i={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(i)}function ne(e,r=!0){for(var t=0;t<e.length;t++)q(e[t],r)}var pe;function Xr(e,r,t,a,s,i=null){var n=e,o=new Map,f=(r&ye)!==0;if(f){var v=e;n=A?R(Te(v)):v.appendChild(G())}A&&Y();var l=null,h=je(()=>{var d=t();return Ne(d)?d:d==null?[]:ce(d)}),u,p=!0;function S(){c.fallback=l,Kr(c,u,n,r,a),l!==null&&(u.length===0?(l.f&C)===0?ke(l):(l.f^=C,V(l,null,n)):Oe(l,()=>{l=null}))}var g=me(()=>{u=P(h);var d=u.length;let m=!1;if(A){var T=Ge(n)===Ye;T!==(d===0)&&(n=ve(),R(n),$(!1),m=!0)}for(var E=new Set,k=F,b=Ke(),_=0;_<d;_+=1){A&&L.nodeType===qe&&L.data===Xe&&(n=L,m=!0,$(!1));var y=u[_],N=a(y,_),w=p?null:o.get(N);w?(w.v&&de(w.v,y),w.i&&de(w.i,_),b&&k.skipped_effects.delete(w.e)):(w=Jr(o,p?n:pe??=G(),y,N,_,s,r,t),p||(w.e.f|=C),o.set(N,w)),E.add(N)}if(d===0&&i&&!l&&(p?l=B(()=>i(n)):(l=B(()=>i(pe??=G())),l.f|=C)),A&&d>0&&R(ve()),!p)if(b){for(const[Q,Z]of o)E.has(Q)||k.skipped_effects.add(Z.e);k.oncommit(S),k.ondiscard(()=>{})}else S();m&&$(!0),P(h)}),c={effect:g,items:o,outrogroups:null,fallback:l};p=!1,A&&(n=L)}function Kr(e,r,t,a,s){var i=(a&rr)!==0,n=r.length,o=e.items,f=e.effect.first,v,l=null,h,u=[],p=[],S,g,c,d;if(i)for(d=0;d<n;d+=1)S=r[d],g=s(S,d),c=o.get(g).e,(c.f&C)===0&&(c.nodes?.a?.measure(),(h??=new Set).add(c));for(d=0;d<n;d+=1){if(S=r[d],g=s(S,d),c=o.get(g).e,e.outrogroups!==null)for(const w of e.outrogroups)w.pending.delete(c),w.done.delete(c);if((c.f&C)!==0)if(c.f^=C,c===f)V(c,null,t);else{var m=l?l.next:f;c===e.effect.last&&(e.effect.last=c.prev),c.prev&&(c.prev.next=c.next),c.next&&(c.next.prev=c.prev),I(e,l,c),I(e,c,m),V(c,m,t),l=c,u=[],p=[],f=l.next;continue}if((c.f&x)!==0&&(ke(c),i&&(c.nodes?.a?.unfix(),(h??=new Set).delete(c))),c!==f){if(v!==void 0&&v.has(c)){if(u.length<p.length){var T=p[0],E;l=T.prev;var k=u[0],b=u[u.length-1];for(E=0;E<u.length;E+=1)V(u[E],T,t);for(E=0;E<p.length;E+=1)v.delete(p[E]);I(e,k.prev,b.next),I(e,l,k),I(e,b,T),f=T,l=b,d-=1,u=[],p=[]}else v.delete(c),V(c,f,t),I(e,c.prev,c.next),I(e,c,l===null?e.effect.first:l.next),I(e,l,c),l=c;continue}for(u=[],p=[];f!==null&&f!==c;)(v??=new Set).add(f),p.push(f),f=f.next;if(f===null)continue}(c.f&C)===0&&u.push(c),l=c,f=c.next}if(e.outrogroups!==null){for(const w of e.outrogroups)w.pending.size===0&&(ne(ce(w.done)),e.outrogroups?.delete(w));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||v!==void 0){var _=[];if(v!==void 0)for(c of v)(c.f&x)===0&&_.push(c);for(;f!==null;)(f.f&x)===0&&f!==e.fallback&&_.push(f),f=f.next;var y=_.length;if(y>0){var N=(a&ye)!==0&&n===0?t:null;if(i){for(d=0;d<y;d+=1)_[d].nodes?.a?.measure();for(d=0;d<y;d+=1)_[d].nodes?.a?.fix()}qr(e,_,N)}}i&&ue(()=>{if(h!==void 0)for(c of h)c.nodes?.a?.apply()})}function Jr(e,r,t,a,s,i,n,o){var f=(n&Qe)!==0?(n&Ze)===0?Je(t,!1,!1):he(t):null,v=(n&xe)!==0?he(s):null;return{v:f,i:v,e:B(()=>(i(r,f??t,v??s,o),()=>{e.delete(a)}))}}function V(e,r,t){if(e.nodes)for(var a=e.nodes.start,s=e.nodes.end,i=r&&(r.f&C)===0?r.nodes.start:t;a!==null;){var n=er(a);if(i.before(a),a===s)return;a=n}}function I(e,r,t){r===null?e.effect.first=t:r.next=t,t===null?e.effect.last=r:t.prev=r}function Pe(e,r,t,a,s){A&&Y();var i=r.$$slots?.[t],n=!1;i===!0&&(i=r.children,n=!0),i===void 0||i(e,n?()=>a:a)}const Qr=()=>performance.now(),O={tick:e=>requestAnimationFrame(e),now:()=>Qr(),tasks:new Set};function ze(){const e=O.now();O.tasks.forEach(r=>{r.c(e)||(O.tasks.delete(r),r.f())}),O.tasks.size!==0&&O.tick(ze)}function Zr(e){let r;return O.tasks.size===0&&O.tick(ze),{promise:new Promise(t=>{O.tasks.add(r={c:e,f:t})}),abort(){O.tasks.delete(r)}}}function j(e,r){Le(()=>{e.dispatchEvent(new CustomEvent(r))})}function xr(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const r=e.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function _e(e){const r={},t=e.split(";");for(const a of t){const[s,i]=a.split(":");if(!s||i===void 0)break;const n=xr(s.trim());r[n]=i.trim()}return r}const et=e=>e;function Lt(e,r,t,a){var s=(e&or)!==0,i=(e&fr)!==0,n=s&&i,o=(e&ir)!==0,f=n?"both":s?"in":"out",v,l=r.inert,h=r.style.overflow,u,p;function S(){return Le(()=>v??=t()(r,a?.()??{},{direction:f}))}var g={is_global:o,in(){if(r.inert=l,!s){p?.abort(),p?.reset?.();return}i||u?.abort(),j(r,"introstart"),u=oe(r,S(),p,1,()=>{j(r,"introend"),u?.abort(),u=v=void 0,r.style.overflow=h})},out(T){if(!i){T?.(),v=void 0;return}r.inert=!0,j(r,"outrostart"),p=oe(r,S(),u,0,()=>{j(r,"outroend"),T?.()})},stop:()=>{u?.abort(),p?.abort()}},c=Ce;if((c.nodes.t??=[]).push(g),s&&Fr){var d=o;if(!d){for(var m=c.parent;m&&(m.f&Ie)!==0;)for(;(m=m.parent)&&(m.f&ar)===0;);d=!m||(m.f&sr)!==0}d&&le(()=>{X(()=>g.in())})}}function oe(e,r,t,a,s){var i=a===1;if(nr(r)){var n,o=!1;return ue(()=>{if(!o){var c=r({direction:i?"in":"out"});n=oe(e,c,t,a,s)}}),{abort:()=>{o=!0,n?.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(t?.deactivate(),!r?.duration)return s(),{abort:z,deactivate:z,reset:z,t:()=>a};const{delay:f=0,css:v,tick:l,easing:h=et}=r;var u=[];if(i&&t===void 0&&(l&&l(0,1),v)){var p=_e(v(0,1));u.push(p,p)}var S=()=>1-a,g=e.animate(u,{duration:f,fill:"forwards"});return g.onfinish=()=>{g.cancel();var c=t?.t()??1-a;t?.abort();var d=a-c,m=r.duration*Math.abs(d),T=[];if(m>0){var E=!1;if(v)for(var k=Math.ceil(m/16.666666666666668),b=0;b<=k;b+=1){var _=c+d*h(b/k),y=_e(v(_,1-_));T.push(y),E||=y.overflow==="hidden"}E&&(e.style.overflow="hidden"),S=()=>{var N=g.currentTime;return c+d*h(N/m)},l&&Zr(()=>{if(g.playState!=="running")return!1;var N=S();return l(N,1-N),!0})}g=e.animate(T,{duration:m,fill:"forwards"}),g.onfinish=()=>{S=()=>a,l?.(a,1-a),s()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=z)},deactivate:()=>{s=z},reset:()=>{a===0&&l?.(1,0)},t:()=>S()}}function rt(e,r,t,a,s,i){let n=A;A&&Y();var o=null;A&&L.nodeType===cr&&(o=L,Y());var f=A?L:e,v=new jr(f,!1);me(()=>{const l=r()||null;var h=ur;if(l===null){v.ensure(null,null),W(!0);return}return v.ensure(l,u=>{if(l){if(o=A?o:document.createElementNS(h,l),Rr(o,o),a){A&&Pr(l)&&o.append(document.createComment(""));var p=A?Te(o):o.appendChild(G());A&&(p===null?$(!1):R(p)),a(o,p)}Ce.nodes.end=o,u.before(o)}A&&R(u)}),W(!0),()=>{l&&W(!1)}},Ie),$e(()=>{W(!0)}),n&&($(!0),R(f))}function tt(e,r){var t=void 0,a;Me(()=>{t!==(t=r())&&(a&&(q(a),a=null),t&&(a=B(()=>{le(()=>t(e))})))})}function Ue(e){var r,t,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(t=Ue(e[r]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function at(){for(var e,r,t=0,a="",s=arguments.length;t<s;t++)(e=arguments[t])&&(r=Ue(e))&&(a&&(a+=" "),a+=r);return a}function st(e){return typeof e=="object"?at(e):e??""}const ge=[...` 	
\r\fÂ \v\uFEFF`];function it(e,r,t){var a=e==null?"":""+e;if(r&&(a=a?a+" "+r:r),t){for(var s in t)if(t[s])a=a?a+" "+s:s;else if(a.length)for(var i=s.length,n=0;(n=a.indexOf(s,n))>=0;){var o=n+i;(n===0||ge.includes(a[n-1]))&&(o===a.length||ge.includes(a[o]))?a=(n===0?"":a.substring(0,n))+a.substring(o+1):n=o}}return a===""?null:a}function be(e,r=!1){var t=r?" !important;":";",a="";for(var s in e){var i=e[s];i!=null&&i!==""&&(a+=" "+s+": "+i+t)}return a}function ee(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function nt(e,r){if(r){var t="",a,s;if(Array.isArray(r)?(a=r[0],s=r[1]):a=r,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,n=0,o=!1,f=[];a&&f.push(...Object.keys(a).map(ee)),s&&f.push(...Object.keys(s).map(ee));var v=0,l=-1;const g=e.length;for(var h=0;h<g;h++){var u=e[h];if(o?u==="/"&&e[h-1]==="*"&&(o=!1):i?i===u&&(i=!1):u==="/"&&e[h+1]==="*"?o=!0:u==='"'||u==="'"?i=u:u==="("?n++:u===")"&&n--,!o&&i===!1&&n===0){if(u===":"&&l===-1)l=h;else if(u===";"||h===g-1){if(l!==-1){var p=ee(e.substring(v,l).trim());if(!f.includes(p)){u!==";"&&h++;var S=e.substring(v,h).trim();t+=" "+S+";"}}v=h+1,l=-1}}}}return a&&(t+=be(a)),s&&(t+=be(s,!0)),t=t.trim(),t===""?null:t}return e==null?null:String(e)}function ot(e,r,t,a,s,i){var n=e.__className;if(A||n!==t||n===void 0){var o=it(t,a,i);(!A||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):r?e.className=o:e.setAttribute("class",o)),e.__className=t}else if(i&&s!==i)for(var f in i){var v=!!i[f];(s==null||v!==!!s[f])&&e.classList.toggle(f,v)}return i}function re(e,r={},t,a){for(var s in t){var i=t[s];r[s]!==i&&(t[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,a))}}function ft(e,r,t,a){var s=e.__style;if(A||s!==r){var i=nt(r,a);(!A||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=r}else a&&(Array.isArray(a)?(re(e,t?.[0],a[0]),re(e,t?.[1],a[1],"important")):re(e,t,a));return a}function fe(e,r,t=!1){if(e.multiple){if(r==null)return;if(!Ne(r))return lr();for(var a of e.options)a.selected=r.includes(Se(a));return}for(a of e.options){var s=Se(a);if(vr(s,r)){a.selected=!0;return}}(!t||r!==void 0)&&(e.selectedIndex=-1)}function ct(e){var r=new MutationObserver(()=>{fe(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),$e(()=>{r.disconnect()})}function Se(e){return"__value"in e?e.__value:e.value}const D=Symbol("class"),H=Symbol("style"),De=Symbol("is custom element"),He=Symbol("is html");function ut(e){if(A){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var a=e.value;K(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var s=e.checked;K(e,"checked",null),e.checked=s}}};e.__on_r=t,ue(t),gr()}}function lt(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function K(e,r,t,a){var s=Ve(e);A&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=t)&&(r==="loading"&&(e[wr]=t),t==null?e.removeAttribute(r):typeof t!="string"&&Be(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function vt(e,r,t,a,s=!1,i=!1){if(A&&s&&e.tagName==="INPUT"){var n=e,o=n.type==="checkbox"?"defaultChecked":"defaultValue";o in t||ut(n)}var f=Ve(e),v=f[De],l=!f[He];let h=A&&v;h&&$(!1);var u=r||{},p=e.tagName==="OPTION";for(var S in r)S in t||(t[S]=null);t.class?t.class=st(t.class):t[D]&&(t.class=null),t[H]&&(t.style??=null);var g=Be(e);for(const b in t){let _=t[b];if(p&&b==="value"&&_==null){e.value=e.__value="",u[b]=_;continue}if(b==="class"){var c=e.namespaceURI==="http://www.w3.org/1999/xhtml";ot(e,c,_,a,r?.[D],t[D]),u[b]=_,u[D]=t[D];continue}if(b==="style"){ft(e,_,r?.[H],t[H]),u[b]=_,u[H]=t[H];continue}var d=u[b];if(!(_===d&&!(_===void 0&&e.hasAttribute(b)))){u[b]=_;var m=b[0]+b[1];if(m!=="$$")if(m==="on"){const y={},N="$$"+b;let w=b.slice(2);var T=Vr(w);if(zr(w)&&(w=w.slice(0,-7),y.capture=!0),!T&&d){if(_!=null)continue;e.removeEventListener(w,u[N],y),u[N]=null}if(_!=null)if(T)e[`__${w}`]=_,Dr([w]);else{let Q=function(Z){u[b].call(this,Z)};u[N]=Ur(w,e,Q,y)}else T&&(e[`__${w}`]=void 0)}else if(b==="style")K(e,b,_);else if(b==="autofocus")pr(e,!!_);else if(!v&&(b==="__value"||b==="value"&&_!=null))e.value=e.__value=_;else if(b==="selected"&&p)lt(e,_);else{var E=b;l||(E=Hr(E));var k=E==="defaultValue"||E==="defaultChecked";if(_==null&&!v&&!k)if(f[b]=null,E==="value"||E==="checked"){let y=e;const N=r===void 0;if(E==="value"){let w=y.defaultValue;y.removeAttribute(E),y.defaultValue=w,y.value=y.__value=N?w:null}else{let w=y.defaultChecked;y.removeAttribute(E),y.defaultChecked=w,y.checked=N?w:!1}}else e.removeAttribute(b);else k||g.includes(E)&&(v||typeof _!="string")?(e[E]=_,E in f&&(f[E]=_r)):typeof _!="function"&&K(e,E,_)}}}return h&&$(!0),u}function we(e,r,t=[],a=[],s=[],i,n=!1,o=!1){dr(s,t,a,f=>{var v=void 0,l={},h=e.nodeName==="SELECT",u=!1;if(Me(()=>{var S=r(...f.map(P)),g=vt(e,v,S,i,n,o);u&&h&&"value"in S&&fe(e,S.value);for(let d of Object.getOwnPropertySymbols(l))S[d]||q(l[d]);for(let d of Object.getOwnPropertySymbols(S)){var c=S[d];d.description===hr&&(!v||c!==v[d])&&(l[d]&&q(l[d]),l[d]=B(()=>tt(e,()=>c))),g[d]=c}v=g}),h){var p=e;le(()=>{fe(p,v.value,!0),ct(p)})}u=!0})}function Ve(e){return e.__attributes??={[De]:e.nodeName.includes("-"),[He]:e.namespaceURI===br}}var Ee=new Map;function Be(e){var r=e.getAttribute("is")||e.nodeName,t=Ee.get(r);if(t)return t;Ee.set(r,t=[]);for(var a,s=e,i=Element.prototype;i!==s;){a=Er(s);for(var n in a)a[n].set&&t.push(n);s=Sr(s)}return t}function $t(e,r,t=r){var a=new WeakSet;Ar(e,"input",async s=>{var i=s?e.defaultValue:e.value;if(i=te(e)?ae(i):i,t(i),F!==null&&a.add(F),await mr(),i!==(i=r())){var n=e.selectionStart,o=e.selectionEnd,f=e.value.length;if(e.value=i??"",o!==null){var v=e.value.length;n===o&&o===f&&v>f?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=n,e.selectionEnd=Math.min(o,v))}}}),(A&&e.defaultValue!==e.value||X(r)==null&&e.value)&&(t(te(e)?ae(e.value):e.value),F!==null&&a.add(F)),yr(()=>{var s=r();if(e===document.activeElement){var i=Tr??F;if(a.has(i))return}te(e)&&s===ae(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function te(e){var r=e.type;return r==="number"||r==="range"}function ae(e){return e===""?null:+e}const dt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var ht=Br("<svg><!><!></svg>");function pt(e,r){const t=ie(r,["children","$$slots","$$events","$$legacy"]),a=ie(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Nr(r,!1);let s=M(r,"name",8,void 0),i=M(r,"color",8,"currentColor"),n=M(r,"size",8,24),o=M(r,"strokeWidth",8,2),f=M(r,"absoluteStrokeWidth",8,!1),v=M(r,"iconNode",24,()=>[]);const l=(...S)=>S.filter((g,c,d)=>!!g&&d.indexOf(g)===c).join(" ");Wr();var h=ht();we(h,(S,g)=>({...dt,...a,width:n(),height:n(),stroke:i(),"stroke-width":S,class:g}),[()=>(U(f()),U(o()),U(n()),X(()=>f()?Number(o())*24/Number(n()):o())),()=>(U(s()),U(t),X(()=>l("lucide-icon","lucide",s()?`lucide-${s()}`:"",t.class)))]);var u=Or(h);Xr(u,1,v,Yr,(S,g)=>{var c=Lr(()=>$r(P(g),2));let d=()=>P(c)[0],m=()=>P(c)[1];var T=Re(),E=Fe(T);rt(E,d,!0,(k,b)=>{we(k,()=>({...m()}))}),se(S,T)});var p=Cr(u);Pe(p,r,"default",{}),Ir(h),se(e,h),kr()}function Mt(e,r){const t=ie(r,["children","$$slots","$$events","$$legacy"]);const a=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];pt(e,Gr({name:"search"},()=>t,{get iconNode(){return a},children:(s,i)=>{var n=Re(),o=Fe(n);Pe(o,r,"default",{}),se(s,n)},$$slots:{default:!0}}))}const _t=e=>e;function gt(e){const r=e-1;return r*r*r+1}function Ae(e){const r=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return r?[parseFloat(r[1]),r[2]||"px"]:[e,"px"]}function Ft(e,{delay:r=0,duration:t=400,easing:a=_t}={}){const s=+getComputedStyle(e).opacity;return{delay:r,duration:t,easing:a,css:i=>`opacity: ${i*s}`}}function Rt(e,{delay:r=0,duration:t=400,easing:a=gt,x:s=0,y:i=0,opacity:n=0}={}){const o=getComputedStyle(e),f=+o.opacity,v=o.transform==="none"?"":o.transform,l=f*(1-n),[h,u]=Ae(s),[p,S]=Ae(i);return{delay:r,duration:t,easing:a,css:(g,c)=>`
			transform: ${v} translate(${(1-g)*h}${u}, ${(1-g)*p}${S});
			opacity: ${f-l*c}`}}const bt=1e3,St=5e3,wt=J(null);function Et(){const{subscribe:e,update:r,set:t}=J([]);return{subscribe:e,set:t,addLog:a=>{r(s=>{const i=[...s,a];return i.length>St&&i.shift(),i})},clear:()=>t([])}}const At=Et();function mt(){const{subscribe:e,update:r}=J({});return{subscribe:e,addLog:t=>{wt.set(t),r(a=>{const i=[...a[t.service]||[],t];return i.length>bt&&i.shift(),{...a,[t.service]:i}}),At.addLog(t)}}}const yt=mt();async function Tt(){const e=await fetch("/api/state");if(!e.ok)throw new Error("Failed to fetch services");return e.json()}async function Pt(e){if(!(await fetch(`/api/services/${e}/start`,{method:"POST"})).ok)throw new Error(`Failed to start service ${e}`)}async function zt(e){if(!(await fetch(`/api/services/${e}/stop`,{method:"POST"})).ok)throw new Error(`Failed to stop service ${e}`)}async function Ut(e){if(!(await fetch(`/api/services/${e}/restart`,{method:"POST"})).ok)throw new Error(`Failed to restart service ${e}`)}async function Dt(){if(!(await fetch("/api/services/stop-all",{method:"POST"})).ok)throw new Error("Failed to stop all services")}async function Ht(){if(!(await fetch("/api/services/restart-all",{method:"POST"})).ok)throw new Error("Failed to restart all services")}function Vt(){const e=new EventSource("/api/events");return e.onmessage=r=>{try{const t=JSON.parse(r.data);t.type==="Log"?yt.addLog(t.data):t.type==="ServiceUpdate"&&(console.log("Received ServiceUpdate:",t.data.name,t.data.status),We.updateService(t.data))}catch(t){console.error("Failed to parse event",t)}},e.onopen=()=>{console.log("EventSource connected"),typeof document<"u"&&document.body.setAttribute("data-sse-connected","true")},e.onerror=r=>{console.error("EventSource error",r),typeof document<"u"&&document.body.setAttribute("data-sse-connected","false")},()=>{e.close()}}function Nt(){const{subscribe:e,set:r,update:t}=J([]);return{subscribe:e,set:r,update:t,refresh:async()=>{const a=await Tt();r(a)},updateService:a=>{t(s=>{const i=s.findIndex(n=>n.name===a.name);if(i!==-1){const n=[...s];return n[i]=a,n}else return[...s,a].sort((o,f)=>o.name.localeCompare(f.name))})},handleEvent:a=>{if(a.type==="ServiceUpdate"){const s=a.data;t(i=>{const n=i.findIndex(o=>o.name===s.name);if(n!==-1){const o=[...i],f=o[n];return o[n]={...s,metrics:f.metrics,cpu_history:f.cpu_history},o}else return[...i,s].sort((f,v)=>f.name.localeCompare(v.name))})}else if(a.type==="Metrics"){const s=a.data;t(i=>{const n=i.findIndex(o=>o.name===s.name);if(n!==-1){const o=[...i],f=o[n],v=f.cpu_history?[...f.cpu_history]:Array(20).fill(0);return v.push(s.cpu_percent),v.length>20&&v.shift(),o[n]={...f,metrics:s,cpu_history:v},o}return i})}}}}const We=Nt(),Bt=Mr(We,e=>{const r={};for(const t of e){let a=null;if(t.workspace&&t.constellation?a=`${t.workspace}/${t.constellation}`:a=t.workspace||t.constellation,!a){const s=t.name.split(":");a=s.length>1?s[0]:"default"}r[a]||(r[a]=[]),r[a].push(t)}return Object.entries(r).map(([t,a])=>({name:t,services:a}))});export{pt as I,Mt as S,Ht as a,$t as b,Dt as c,Ut as d,zt as e,Pt as f,We as g,Xr as h,ot as i,Yr as j,Rt as k,Ft as l,K as m,wt as n,yt as o,Bt as p,At as q,ut as r,Pe as s,Lt as t,Vt as u};
